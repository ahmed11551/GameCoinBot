#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ GitHub
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./setup-git.sh YOUR_GITHUB_USERNAME

if [ -z "$1" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: –£–∫–∞–∂–∏—Ç–µ –≤–∞—à GitHub username"
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./setup-git.sh YOUR_GITHUB_USERNAME"
    exit 1
fi

GITHUB_USERNAME=$1
REPO_NAME="telegram-game-bot"

echo "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è $REPO_NAME"
echo "üë§ GitHub username: $GITHUB_USERNAME"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -f "package.json" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: package.json –Ω–µ –Ω–∞–π–¥–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞"
    exit 1
fi

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git
echo "üìÅ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
git init

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
echo "üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ Git..."
git add .

# –ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç
echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∫–æ–º–º–∏—Ç–∞..."
git commit -m "feat: initial commit - –∏–≥—Ä–æ–≤–æ–π Telegram –±–æ—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –≤–∞–ª—é—Ç–æ–π

- üéØ –°–∏—Å—Ç–µ–º–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω —Å 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- üé∞ –ú–∏–Ω–∏-–∫–∞–∑–∏–Ω–æ –∏–≥—Ä—ã (—Å–ª–æ—Ç—ã, –∫–æ—Å—Ç–∏, —Ä—É–ª–µ—Ç–∫–∞, –±–ª—ç–∫–¥–∂–µ–∫)
- üëÜ –ö–ª–∏–∫–µ—Ä –∏–≥—Ä–∞ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏
- üèÜ –¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- üíé –ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞
- üõí –ú–∞–≥–∞–∑–∏–Ω —Å Telegram Stars
- üèÖ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üê≥ Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üöÄ CI/CD pipeline"

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –≤ main
echo "üåø –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –≤ main..."
git branch -M main

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote origin
echo "üîó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ remote origin..."
git remote add origin https://github.com/$GITHUB_USERNAME/$REPO_NAME.git

echo ""
echo "‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω!"
echo ""
echo "üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub:"
echo "   https://github.com/new"
echo "   –ù–∞–∑–≤–∞–Ω–∏–µ: $REPO_NAME"
echo "   –û–ø–∏—Å–∞–Ω–∏–µ: –ò–≥—Ä–æ–≤–æ–π Telegram –±–æ—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –≤–∞–ª—é—Ç–æ–π"
echo "   –ù–ï –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å README (—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å —Ñ–∞–π–ª—ã)"
echo ""
echo "2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub:"
echo "   git push -u origin main"
echo ""
echo "3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ª–∏–∑:"
echo "   git tag -a v1.0.0 -m 'Release version 1.0.0'"
echo "   git push origin v1.0.0"
echo ""
echo "üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:"
echo "   https://github.com/$GITHUB_USERNAME/$REPO_NAME"
echo ""

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞
echo "üè∑Ô∏è  –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞ v1.0.0..."
git tag -a v1.0.0 -m "Release version 1.0.0"

echo ""
echo "üöÄ –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ GitHub –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:"
echo "   git push -u origin main"
echo "   git push origin v1.0.0"
echo ""
echo "üìö –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ GITHUB_SETUP.md"
